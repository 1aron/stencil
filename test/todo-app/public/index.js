const t=document,e=t=>requestAnimationFrame(t),n=new WeakMap,o=t=>n.get(t),l=t=>{{const e={t:0};return e.o=new Map,n.set(t,e)}},s=(t,e)=>e in t,c=t=>console.error(t);let i=0,r=!1;const u=[],a=[],h=[],d=t=>n=>{t.push(n),r||(r=!0,e(p))},f=(t,e)=>{let n=0,o=0;for(;n<t.length&&(o=performance.now())<e;)try{t[n++](o)}catch(t){c(t)}n===t.length?t.length=0:0!==n&&t.splice(0,n)},p=()=>{i++,(t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(t){c(t)}t.length=0})(u),f(a,1/0),f(h,1/0),a.length>0&&(h.push(...a),a.length=0),(r=u.length+a.length+h.length>0)?e(p):i=0},m=d(a),b={},$=t=>null!=t,g=t=>t.toLowerCase(),y=[];function x(t,e){let n=null,o=!1,l=!1,s=arguments.length;for(;s-- >2;)y.push(arguments[s]);for(;y.length>0;){let e=y.pop();if(e&&void 0!==e.pop)for(s=e.length;s--;)y.push(e[s]);else"boolean"==typeof e&&(e=null),(l="function"!=typeof t)&&(null==e?e="":"number"==typeof e?e=String(e):"string"!=typeof e&&(l=!1)),l&&o?n[n.length-1].l+=e:null===n?n=[l?{t:0,l:e}:e]:n.push(l?{t:0,l:e}:e),o=l}if(null!=e&&(e.className&&(e.class=e.className),"object"==typeof e.class)){for(s in e.class)e.class[s]&&y.push(s);e.class=y.join(" "),y.length=0}const c={s:t,i:n,u:void 0,t:0};return c.h=e,c.l=void 0,c}const k={},v=(t,e,n,o,l,c)=>{if(n!==o)if("class"!==e||l)if(e.startsWith("on")&&!s(t,e))e=s(t,g(e))?g(e.substring(2)):g(e[2])+e.substring(3),n&&((t,e,n)=>t.removeEventListener(e,n,!1))(t,e,n),o&&((t,e,n)=>t.addEventListener(e,n,!1))(t,e,o);else{const n=s(t,e),i=["object","function"].includes(typeof o);if((n||i&&null!==o)&&!l)try{t[e]=null==o&&-1===t.tagName.indexOf("-")?"":o}catch(t){}null==o||!1===o?t.removeAttribute(e):(!n||4&c||l)&&!i&&(o=!0===o?"":o.toString(),t.setAttribute(e,o))}else{const e=j(n),l=j(t.className).filter(t=>!e.includes(t));t.className=l.concat(j(o).filter(t=>!l.includes(t))).join(" ")}},j=t=>t?t.split(" "):[],C=(t,e,n,o)=>{const l=11===e.u.nodeType&&e.u.host?e.u.host:e.u,s=t&&t.h||b,c=e.h||b;for(o in s)null==c[o]&&null!=s[o]&&v(l,o,s[o],void 0,n,e.t);for(o in c)v(l,o,s[o],c[o],n,e.t)};let I;const w=(e,n,o)=>{const l=n.i[o];let s,c,i=0;if($(l.l))l.u=t.createTextNode(l.l);else if(s=l.u=t.createElement(l.s),C(null,l,!1),l.i)for(i=0;i<l.i.length;++i)(c=w(e,l,i,s))&&s.appendChild(c);return l.u},M=(t,e,n,o,l,s)=>{let c,i=t;for(;l<=s;++l)o[l]&&(c=w(null,n,l,t))&&(o[l].u=c,i.insertBefore(c,e))},O=(t,e,n)=>{for(;e<=n;++e)$(t[e])&&t[e].u.remove()},S=(t,e)=>t.s===e.s,T=(t,e)=>{const n=e.u=t.u,o=t.i,l=e.i;$(e.l)?t.l!==e.l&&(n.textContent=e.l):(C(t,e,!1),$(o)&&$(l)?((t,e,n,o)=>{let l,s=0,c=0,i=e.length-1,r=e[0],u=e[i],a=o.length-1,h=o[0],d=o[a];for(;s<=i&&c<=a;)null==r?r=e[++s]:null==u?u=e[--i]:null==h?h=o[++c]:null==d?d=o[--a]:S(r,h)?(T(r,h),r=e[++s],h=o[++c]):S(u,d)?(T(u,d),u=e[--i],d=o[--a]):S(r,d)?(T(r,d),t.insertBefore(r.u,u.u.nextSibling),r=e[++s],d=o[--a]):S(u,h)?(T(u,h),t.insertBefore(u.u,r.u),u=e[--i],h=o[++c]):(l=w(e&&e[c],n,c,t),h=o[++c],l&&r.u.parentNode.insertBefore(l,r.u));s>i?M(t,null==o[a+1]?null:o[a+1].u,n,o,c,a):c>a&&O(e,s,i)})(n,o,e,l):$(l)?($(t.l)&&(n.textContent=""),M(n,null,e,l,0,l.length-1)):$(o)&&O(o,0,o.length-1))},E=async(t,e,n,o)=>{e.t|=16;const l=t;m(()=>L(t,e,n,o,l))},L=(t,e,n,o,l)=>{e.t&=-17,e.t|=4;try{((t,e,n,o)=>{const l=e.p||{t:0};I=g(t.tagName),(t=>t&&t.s===k)(o)?o.s=null:o=x(null,null,o),o.t|=4,e.p=o,o.u=l.u=t,T(l,o)})(t,e,0,l.render())}catch(t){c(t)}e.t&=-5,e.t|=2},R=(t,e,n,l)=>{if(e.m){const n=Object.entries(e.m);n.forEach(([n,[s]])=>{(31&s||l&&32&s)&&Object.defineProperty(t.prototype,n,{get(){return((t,e)=>o(t).o.get(e))(this,n)},set(t){((t,e,n,l)=>{const s=o(t),c=t,i=s.o.get(e),r=s.t;(n=((t,e)=>null!=t&&"object"!=typeof t&&"function"!=typeof t?4&e?"false"!==t&&(""===t||!!t):2&e?parseFloat(t):1&e?String(t):t:t)(n,l.m[e][0]))===i||8&r&&void 0!==i||(s.o.set(e,n),2==(22&r)&&E(c,s,l,!1))})(this,n,t,e)},configurable:!0,enumerable:!0})});{const e=new Map;t.prototype.attributeChangedCallback=function(t,n,o){const l=e.get(t);this[l]=(null!==o||"boolean"!=typeof this[l])&&o},t.observedAttributes=n.filter(([t,e])=>15&e[0]).map(([t,n])=>{const o=n[1]||t;return e.set(o,t),o})}}return t},F=(t,e)=>{const n={t:e[0],$:e[1],m:e[2],g:e[3],k:t.k};return Object.assign(t.prototype,{"s-init"(){},forceUpdate(){E(this,o(this),n,!1)},componentOnReady(){return o(this).v},connectedCallback(){((t,e)=>{{const n=o(t);1&n.t||(n.t|=1,e.m&&Object.entries(e.m).forEach(([e,[n]])=>{if(31&n&&t.hasOwnProperty(e)){const n=t[e];delete t[e],t[e]=n}}),(async(t,e,n)=>{E(t,e,n,!0)})(t,n,e))}})(this,n)},disconnectedCallback(){}}),R(t,n,0,1)},H=(t,e,n)=>{const o=W(t);return{emit:t=>o.dispatchEvent(new CustomEvent(e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t}))}},W=t=>t;class A extends HTMLElement{constructor(){super(),l(this),this.list=[{text:"my initial todo"},{text:"Learn about Web Components",checked:!0}]}render(){const t=this.list,e=t.every(t=>t.checked);return x("div",null,x("header",{class:"header"},x("h1",null,"Todos Stencil"),x("todo-input",{onInputSubmit:e=>{this.list=[...t,{text:e.detail}]}})),x("section",{class:"main",hidden:!t.length},x("input",{id:"toggle-all",onInput:e=>{this.list=t.map(t=>(t.checked=!!e.target.checked,t))},class:"toggle-all",type:"checkbox",checked:e}),x("label",{htmlFor:"toggle-all"}),x("ul",{class:"todo-list"},t.map((e,n)=>x("todo-item",{onItemCheck:e=>{const n=t[e.detail];t[e.detail]=Object.assign({},n,{checked:!n.checked}),this.list=t.slice()},onItemRemove:e=>{this.list=[...t.slice(0,e.detail),...t.slice(e.detail+1)]},checked:e.checked,text:e.text,index:n})))))}}class q extends HTMLElement{constructor(){super(),l(this),this.inputSubmit=H(this,"inputSubmit",7)}render(){return x("form",{onSubmit:t=>{t.preventDefault(),this.value&&(this.inputSubmit.emit(this.value),this.value="")}},x("input",{class:"new-todo",value:this.value,type:"text",placeholder:"What needs to be done?",onInput:t=>this.value=t.target.value}))}}class N extends HTMLElement{constructor(){super(),l(this),this.itemCheck=H(this,"itemCheck",7),this.itemRemove=H(this,"itemRemove",7)}render(){return x("li",{class:this.checked?"completed":""},x("input",{class:"toggle",type:"checkbox",checked:this.checked,onChange:()=>this.itemCheck.emit(this.index)}),x("label",null,this.text),x("button",{class:"destroy",onClick:()=>this.itemRemove.emit(this.index)}))}}const U=F(A,[0,"app-root",{list:[32]}]),z=F(q,[0,"todo-input",{value:[32]}]),B=F(N,[0,"todo-item",{checked:[4],text:[1],index:[2]}]);export{U as AppRoot,z as TodoInput,B as TodoItem};